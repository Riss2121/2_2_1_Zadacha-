// –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–∫–µ—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
package hiber.service;

// –ò–º–ø–æ—Ä—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ DAO –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
import hiber.dao.UserDao;

// –ò–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏ User ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —Å –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
import hiber.model.User;

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥ —á–µ—Ä–µ–∑ –ø–æ–ª–µ; —Å–º. —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∏–∂–µ)
import org.springframework.beans.factory.annotation.Autowired;

// –ü–æ–º–µ—á–∞–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ Spring-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Ä–æ–≤–Ω—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—Å–µ—Ä–≤–∏—Å)
import org.springframework.stereotype.Service;

// –í–∫–ª—é—á–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–æ–≤
import org.springframework.transaction.annotation.Transactional;

// –ò–º–ø–æ—Ä—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ List –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏
import java.util.List;

// –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Service —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ Spring-–±–∏–Ω –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ —Ä–æ–ª—å ‚Äî —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
@Service
// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ UserService: —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ DAO
public class UserServiceImp implements UserService {

   // ‚ùó –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–±–µ–≥–∞—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –ø–æ–ª–µ (@Autowired –Ω–∞ –ø–æ–ª–µ)
   // –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω—É—é –∏–Ω—ä–µ–∫—Ü–∏—é (–æ–Ω–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç @Autowired –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Spring)
   @Autowired
   private UserDao userDao;

   // –ú–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.
   @Override
   @Transactional  // –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é; –ø—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç
   public void add(User user) {
      // –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è DAO-—Å–ª–æ—é
      userDao.add(user);
   }

   // –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è ‚Äî –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   @Override
   @Transactional(readOnly = true)  // –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
   public List<User> listUsers() {
      // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ DAO
      return userDao.listUsers();
   }

   // –ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –º–æ–¥–µ–ª–∏ –∏ —Å–µ—Ä–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è.
   // –•–æ—Ç—è –º–µ—Ç–æ–¥ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–Ω –Ω–µ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ readOnly.
   // üî∏ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –¥–æ–±–∞–≤–∏—Ç—å readOnly = true –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   @Override
   @Transactional(readOnly = true)  // ‚Üê –ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω readOnly
   public List<User> userBySeriesAndModel(String model, int series) {
      // –ü–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ DAO –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      return userDao.userBySeriesAndModel(model, series);
   }
}